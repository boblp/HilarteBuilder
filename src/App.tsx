import { useState, useEffect } from 'react'
import { useSpeechSynthesis } from 'react-speech-kit'

import './App.css'

function App() {
  const [steps, setSteps] = useState([
    88,71,86,63,89,69,95,61,90,59,96,66,81,96,58,98,61,76,97,65,83,59,93,74,59,99,57,100,22,97,19,98,64,88,70,94,62,89,16,95,23,96,15,98,21,96,13,92,63,99,18,94,24,91,68,97,20,92,9,97,12,93,25,90,15,92,60,101,56,103,22,95,14,99,11,94,58,100,17,88,23,92,26,89,60,82,65,87,72,284,74,2,95,17,97,6,90,22,93,19,101,16,97,8,93,317,87,24,86,27,84,311,88,7,99,20,96,10,89,310,90,27,88,62,144,5,98,8,82,308,89,23,94,21,91,14,97,1,99,4,85,28,83,312,98,12,151,66,216,65,212,63,78,300,76,297,97,57,104,19,84,304,95,233,94,306,80,61,92,227,95,21,87,313,91,26,176,27,85,314,93,307,90,3,100,0,103,59,137,318,82,29,182,30,184,32,186,34,191,40,271,69,158,17,96,299,101,318,92,231,95,18,69,278,73,286,96,235,94,229,95,59,112,55,105,13,152,11,78,1,140,8,76,283,96,290,73,165,15,102,298,119,299,82,0,141,60,136,4,74,294,96,301,121,17,87,26,86,315,134,61,201,45,199,43,196,42,197,41,270,70,282,77,6,99,300,81,6,75,169,22,166,13,150,67,215,63,209,64,85,302,98,289,95,237,93,230,90,9,148,67,14,103,296,118,297,104,319,91,232,89,222,41,193,37,190,35,182,24,92,309,128,307,92,316,133,27,179,21,76,287,51,289,93,226,44,195,45,202,47,203,62,214,35,265,83,29,178,22,171,16,160,71,280,91,5,88,15,154,67,211,32,138,2,86,270,39,221,86,22,125,304,78,163,72,275,89,314,136,30,81,179,29,85,18,157,73,23,165,11,155,7,146,64,208,68,261,81,308,93,240,96,305,124,23,170,74,277,93,224,90,281,78,266,27,185,37,216,64,149,14,172,76,164,13,97,303,126,310,97,288,72,319,146,6,107,254,105,247,96,232,294,117,17,73,287,114,285,97,314,55,312,131,308,91,229,47,235,91,278,122,15,69,218,39,188,32,129,306,95,228,289,89,4,156,69,206,65,7,142,319,79,2,90,231,46,194,36,265,79,164,75,285,224,42,273,111,56,298,236,96,16,87,311,138,58,297,122,293,101,315,94,239,301,100,297,121,279,218,36,163,14,119,282,89,31,210,62,213,63,199,84,263,108,259,82,197,65,143,316,62,272,78,175,19,72,291,55,116,284,77,9,141,6,150,317,100,313,102,242,95,226,287,99,10,166,74,286,52,239,47,204,89,233,50,206,34,273,127,21,71,265,81,260,107,252,67,209,32,262,80,195,43,298,95,230,94,243,92,0,63,210,30,176,18,91,206,63,147,69,306,132,59,302,77,267,74,168,24,90,211,29,268,70,276,215,71,155,17,170,12,154,74,274,31,136,312,127,296,234,95,238,48,202,64,198,39,258,109,252,78,255,54,292,102,239,90,1,139,59,120,281,221,42,262,106,25,131,302,45,257,58,295,105,241,51,189,29,246,173,77,161,70,208,29,259,74,5,158,2,136,61,178,60,176,78,250,179,62,216,275,77,256,104,248,312,71,205,35,272,211,62,275,93,296,101,305,133,35,188,38,268,112,281,70,13,173,21,162,11,89,220,38,250,95,308,88,206,267,71,164,241,303,44,198,83,171,78,160,19,76,264,84,183,252,94,225,87,7,138,309,53,247,108,245,50,290,119,280,46,240,163,16,224,44,276,34,213,93,319,152,66,212,32,207,51,236,94,286,67,201,85,227,46,268,61,131,318,83,7,167,81,270,112,308,144,315,70,166,8,64,176,248,95,301,80,177,16,118,283,222,76,253,106,294,39,187,88,284,97,4,151,27,124,292,231,49,201,264,25,87,269,28,84,298,57,300,97,15,158,237,299,132,311,92,208,65,198,46,253,35,161,238,92,279,72,154,234,48,193,78,258,34,140,61,111,246,107,265,74,289,122,24,203,66,3,157,33,189,87,290,229,96,233,295,121,302,79,254,93,245,171,21,184,67,16,73,260,112,250,42,299,105,255,187,21,144,11,173,79,278,112,288,75,1,159,76,259,47,191,257,115,285,55,317,142,59,126,276,214,65,280,222,95,257,83,30,260,58,303,138,317,86,200,40,269,207,66,245,308,54,246,102,249,113,267,25,183,22,94,292,73,162,238,159,81,172,245,27,131,300,41,220,20,128,295,133,57,5,149,230,99,318,153,78,279,96,234,88,220,282,78,8,149,314,95,251,110,274,125,23,93,301,87,209,62,130,319,77,285,32,175,247,75,313,146,23,172,15,151,232,45,242,167,72,266,114,248,311,147,60,180,82,258,93,234,293,92,278,34,264,80,31,178,249,96,241,47,182,64,4,134,37,204,63,217,36,255,48,204,68,200,26,265,53,250,37,291,116,59,264,86,226,81,196,66,249,79,163,9,145,307,60,269,205,73,189,90,193,39,169,244,109,261,42,264,108,251,181,85,171,75,296,98,11,70,254,94,214,33,208,63,128,272,32,256,117,283,48,185,20,180,80,271,27,258,193,79,168,243,38,215,62,218,94,274,78,213,74,3,135,29,240,161,76,286,123,277,70,201,83,177,62,205,49,190,28,281,123,306,243,73,310,47,237,165,72,289,52,235,155,60,262,198,43,289,111,305,86,176,43,249,110,260,19,69,292,96,263,115,287,92,6,168,81,219,70,237,96,228,147,13,120,279,50,238,299,90,280,118,254,35,235,160,317,253,66,202,82,161,14,225,284,99,298,92,249,182,33,265,22,217,45,313,151,166,39,242,74,156,233,64,203,36,293,51,198,183,85,165,241,104,2,154,315,105,235,45,226,143,60,272,125,278,217,39,197,67,262,18,141,222,19,117,259,31,243,173,76,91,23,218,82,264,105,245,33,255,59,301,40,196,89,312,47,187,70,260,195,78,251,38,136,151,230,48,194,79,221,18,72,206,28,262,116,250,74,204,50,192,86,167,76,276,93,242,304,136,0,71,252,318,159,71,162,177,250,90,284,123,63,214,73,319,141,302,67,265,58,253,41,223,140,66,251,102,233,152,229,65,5,63,194,179,61,174,78,227,290,56,1,84,202,263,26,215,46,258,113,273,30,208,88,175,44,201,22,126,141,259,38,277,124,60,137,297,105,239,166,80,254,188,53,209,29,280,70,253,119,257,31,287,56,302,82,178,33,271,130,115,312,143,158,236,100,205,36,142,315,161,83,184,49,193,98,286,118,10,174,20,163,37,260,104,298,59,149,75,210,271,111,279,223,285,129,269,62,220,48,253,319,98,217,70,214,27,282,63,268,132,37,195,62,133,267,107,296,84,173,189,205,221,74,190,89,269,25,215,231,9,177,244,55,242,159,31,229,287,122,64,115,265,199,46,306,147,226,36,268,41,190,77,258,57,261,69,239,88,24,216,83,203,32,158,241,94,232,47,196,36,212,33,287,96,185,61,135,219,93,194,257,69,305,80,156,312,103,317,84,244,45,266,207,71,211,42,181,63,151,310,246,313,55,131,109,303,318,147,68,264,37,254,185,84,260,29,270,20,189,97,291,86,241,42,170,24,143,223,18,237,64,180,90,252,148,230,11,157,243,110,10,77,252,92,247,113,285,126,274,109,254,65,282,28,180,48,319,137,263,50,190,63,116,292,52,282,49,251,149,304,93,71,169,184,248,152,60,254,147,21,222,40,303,128,270,202,88,194,38,245,176,81,4,164,236,157,232,101,294,142,3,76,209,54,238,223,70,259,17,222,78,194,211,93,246,231,64,207,35,275,124,30,268,184,39,192,79,178,63,224,139,295,311,144,71,197,46,314,249,150,30,288,53,262,35,256,121,136,14,227,13,66,198,20,95,180,15,226,133,5,171,87,221,36,223,74,158,173,93,297,83,269,130,53,275,107,261,122,106,242,164,84,222,43,239,1,92,305,61,200,45,300,120,282,92,214,127,310,61,271,79,170,244,67,158,0,97,245,156,237,2,83,253,20,271,122,258,143,119,296,138,33,233,8,58,256,54,306,153,246,73,254,190,265,31,198,177,206,66,175,89,188,49,234,6,51,185,205,279,76,27,204,24,197,32,277,120,65,215,91,316,153,232,295,77,157,43,192,93,171,241,107,292,92,256,115,99,309,152,135,39,272,121,275,23,222,75,186,89,166,251,118,291,275,193,77,261,199,214,43,308,115,138,220,80,257,242,303,104,309,67,162,234,53,297,74,230,10,149,68,194,274,213,26,85,176,271,41,218,14,138,282,298,136,274,259,56,71,168,249,59,129,272,197,61,210,94,238,27,170,154,229,12,228,15,216,131,270,59,311,6,89,257,144,59,154,43,252,115,68,202,35,280,66,182,38,201,56,209,27,186,71,128,276,115,315,244,302,239,160,37,217,49,195,64,126,289,121,296,76,174,45,197,80,169,247,307,44,245,112,286,100,207,62,219,22,262,40,225,62,196,101,282,127,63,146,253,152,307,73
  ])
  const [currentIndex, setCurrentIndex] = useState(0)
  const { speak } = useSpeechSynthesis();

  const past = () => {
    setCurrentIndex(currentIndex-1)
    speak({ text: `past ${steps[currentIndex-1]}` })
  }

  const next = () => {
    setCurrentIndex(currentIndex+1)
    speak({ text: `next ${steps[currentIndex+1]}` })
  }

  const pedal = (e: any) => {
    if(e.key === 'b') {
      next()
    }
  }

  return (
    <div className="App">

      <h2>Done: <b>{ currentIndex }</b> Left: <b>{ steps.length - currentIndex }</b></h2>
      <br />
      <h1>Next:</h1>
      <h1 style={{ fontSize: '180px' }}>{ steps[currentIndex] }</h1>

      <button onClick={() => past() }>past</button>
      <button
        onClick={() => next() }
        onKeyUp={(e) => pedal(e)}
      >next</button>
    </div>
  )
}

export default App
