import { useState, useEffect } from 'react'
import { useSpeechSynthesis } from 'react-speech-kit'

import './App.css'

const original: number[] = [76,16,83,19,86,21,85,23,82,17,86,15,83,22,85,18,87,20,80,24,81,19,84,14,87,16,81,23,76,9,80,26,79,11,82,22,87,11,77,24,75,7,80,23,84,22,89,19,85,13,87,19,82,5,65,6,77,27,74,24,79,19,75,276,79,23,83,4,74,29,73,20,85,16,88,11,86,16,82,24,78,271,76,24,70,267,77,273,73,11,89,15,87,7,76,268,77,4,87,9,67,260,68,24,72,28,75,17,80,279,88,2,64,134,69,25,155,27,78,19,80,275,87,3,90,1,74,19,88,13,82,15,84,21,72,30,162,31,165,36,168,39,170,40,173,42,175,56,96,55,99,59,124,60,126,6,87,12,132,65,137,70,255,65,249,63,129,9,124,3,89,9,84,17,81,22,149,21,147,70,140,74,265,108,20,65,247,63,245,66,135,11,85,201,86,203,85,197,82,278,119,56,115,55,120,279,89,277,118,57,113,271,72,19,77,23,151,17,139,18,105,261,66,26,75,23,78,3,84,13,79,272,114,24,64,250,68,141,12,131,67,25,156,20,143,11,133,8,86,199,81,269,111,20,106,263,71,24,73,139,69,4,119,276,86,22,80,270,114,56,180,57,186,59,184,57,122,1,89,274,88,5,126,11,80,18,150,20,104,260,209,262,87,254,203,84,198,249,45,178,58,17,153,25,115,269,89,257,103,258,92,3,88,10,130,62,188,60,121,3,85,196,86,14,75,4,117,28,160,30,71,27,157,21,145,11,84,204,257,65,246,196,40,172,41,169,34,234,35,236,36,163,26,70,4,76,19,141,67,143,68,12,128,8,87,261,88,252,64,128,1,88,260,89,278,122,2,117,0,129,62,240,191,80,6,88,0,91,259,104,13,76,27,68,244,194,82,21,155,17,87,10,136,71,138,8,123,276,117,55,102,20,86,202,85,265,107,20,84,205,83,24,69,265,110,271,82,198,248,66,243,81,11,83,195,243,70,7,139,14,134,11,147,207,260,51,263,210,152,17,77,26,82,249,84,5,87,253,201,81,200,86,264,76,29,183,232,24,153,21,146,18,60,183,58,186,56,178,61,130,14,103,255,84,24,110,20,158,214,268,117,274,112,270,76,171,38,194,84,16,101,252,203,255,49,257,106,258,88,4,73,23,145,13,86,198,42,176,224,174,41,199,250,100,57,174,58,172,223,96,228,72,150,209,86,10,125,275,89,272,217,163,32,186,235,17,79,22,76,234,187,33,168,38,166,35,258,105,262,85,15,69,29,118,267,98,269,114,278,48,276,122,7,141,69,144,204,85,200,138,67,251,45,85,253,203,249,102,15,145,22,62,247,104,22,78,275,88,8,137,17,150,14,142,75,30,230,69,146,205,85,210,264,115,268,110,270,215,160,34,188,238,37,167,34,115,59,171,42,245,67,27,181,56,185,61,241,191,36,172,77,156,212,91,3,127,65,7,143,204,86,197,80,16,235,26,73,226,70,229,95,218,69,244,80,25,107,16,157,19,71,135,2,89,256,106,246,62,180,59,19,145,204,142,21,83,207,91,279,79,241,29,184,56,182,60,114,265,77,237,189,233,14,133,63,239,192,35,142,7,140,66,6,121,8,129,3,134,279,131,11,103,248,86,195,38,262,210,95,224,72,138,65,245,68,231,23,128,63,18,64,255,90,208,260,90,257,109,20,105,244,193,39,264,88,15,80,174,56,153,211,93,219,96,227,53,274,80,33,255,106,17,154,211,84,267,60,179,46,207,148,18,236,26,180,48,258,205,43,175,114,268,74,152,14,129,275,62,177,223,175,62,19,73,168,220,92,278,221,48,214,97,222,70,30,229,71,31,185,59,127,12,153,75,143,71,4,89,263,115,278,80,240,110,272,47,204,251,44,228,95,8,139,201,252,65,190,37,227,27,117,177,43,209,151,18,84,206,144,6,119,31,179,57,154,76,135,198,79,28,109,241,98,226,66,246,64,5,86,9,85,17,229,73,137,68,241,56,8,132,2,123,55,119,267,213,85,249,101,250,45,202,146,6,127,22,177,82,242,191,129,72,167,44,176,227,73,30,180,231,32,157,213,98,218,274,126,276,124,18,82,192,131,187,56,183,64,235,27,81,175,45,248,27,182,65,231,95,226,96,216,161,33,217,273,89,5,85,14,120,4,125,276,132,55,107,266,96,224,172,61,233,53,229,69,123,64,177,116,262,52,265,211,43,227,75,170,59,177,56,10,146,70,136,199,140,71,221,98,212,83,17,236,37,171,57,183,62,248,199,85,215,159,201,84,10,135,8,140,197,248,64,3,93,260,210,45,166,31,252,63,21,143,85,198,139,3,54,235,18,109,254,107,243,76,279,222,0,121,181,28,77,233,69,223,173,112,22,231,66,214,25,246,41,173,79,158,17,156,209,95,233,65,118,262,90,261,72,135,29,111,264,38,229,94,213,67,263,209,149,24,231,184,30,238,64,139,191,34,140,202,162,215,95,227,60,169,74,228,19,231,67,137,77,174,40,269,61,14,146,86,145,71,149,17,159,29,80,202,254,45,244,103,245,80,21,148,203,44,204,253,90,268,83,13,89,0,63,173,57,176,78,255,86,194,16,234,60,137,21,81,206,145,20,83,5,148,70,217,95,222,92,261,209,154,56,238,39,172,111,261,104,275,132,11,106,243,196,149,20,60,252,212,99,251,36,190,78,17,142,77,22,107,264,114,271,89,7,146,204,90,0,69,231,182,123,17,145,205,86,247,106,276,89,150,13,232,64,23,224,171,45,167,39,242,108,263,92,216,98,214,30,79,140,2,144,193,129,68,219,94,230,70,268,97,271,217,84,179,119,7,86,4,72,32,178,224,51,258,66,9,59,218,62,134,194,71,225,100,248,25,74,143,205,82,20,112,271,127,2,87,279,48,232,31,186,130,275,90,273,65,25,72,222,101,213,96,229,18,83,200,157,209,257,105,278,121,276,87,1,147,202,161,215,164,32,138,201,44,177,33,73,150,90,213,86,12,99,274,134,8,125,62,231,52,234,42,206,259,209,152,57,240,19,69,164,44,224,102,245,107,259,71,6,148,204,43,173,224,73,130,192,128,270,113,174,60,185,58,116,258,72,229,68,28,235,15,58,154,198,88,9,93,154,20,175,79,21,229,16,57,178,83,14,81,160,20,103,220,276,127,8,136,198,12,130,8,141,198,250,66,215,158,61,234,59,231,71,227,94,209,159,34,235,22,75,226,100,223,176,115,62,174,30,224,170,109,271,134,198,87,147,6,142,65,227,99,272,126,71,166,46,178,47,215,163,20,237,24,186,236,19,68,133,188,233,182,66,139,31,230,39,146,77,229,86,18,123,34,223,179,56,118,261,38,207,85,10,228,94,234,68,183,31,187,58,222,106,14,158,97,227,86,222,102,216,267,115,35,168,44,200,247,27,216,97,219,51,266,120,32,83,244,36,234,64,173,36,215,166,85,195,132,273,86,1,62,239,82,28,239,64,231,38,183,54,184,126,13,196,41,224,86,144,68,136,14,127,189,135,273,102,246,201,91,276,113,269,216,103,218,101,21,61,176,43,246,63,278,93,229,75,147,195,75,134,57,155,95,220,23,187,29,250,81,20,64,245,69,121,264,122,59,247,79,207,145,76,30,165,219,86,266,214,43,208,95,225,85,26,183,61,108,169,57,12,84,141,2,146,206,80,253,213,24,224,175,115,26,208,262,68,4,150,206,86,262,218,68,163,203,87,0,48,162,57,2,137,190,33,138,199,154,14,138,75,34,162,82,182,58,248,104,245,61,9,74,168,43,220,31,164,70,228,16,108,257,33,115,3,130,267,94,216,95,212,49,249,26,226,48,181,84,4,111,274,66,230,68,222,94,261,114,257,80,267,212,155,55,151,73,1,42,278,66,25,235,23,243,72,152,211,99,159,31,204,152,91,4,149,76,191,67,220,105,166,47,180,27,154,16,124,11,74,150,82,201,161,209,65,237,18,219,35,189,239,38,147,7,137,195,131,275,77,34,168,42,187,233,13,61,117,178,24,207,47,200,84,199,135,61,215,257,117,29,231,60,176,65,276,88,204,256,64,211,44,170,46,165,72,226,42,246,105,276,60,178,118,3,151,59,226,93,224,74,131,69,182,64,161,100,216,86,252,45,258,104,232,14,197,40,171,110,262,92,260,70,218,83,179,48,205,90,5,80,28,223,1,144,7,84,26,233,66,136,270,217,41,232,54,226,175,44,172,76,230,67,163,47,268,60,189,126,10,123,189,56,234,17,193,143,206,63,231,94,203,141,199,156,95,221,102,57,249,111,239,60,187,30,220,107,226,68,122,19,192,142,198,246,22,232,32,169,56,13,64,137,81,205,87,201,149,207,50,268,113,261,75,231,56,165,38,222,83,163,80,207,84,272,90,252,204,95,219,65,144,5,49,234,186,33,240,56,188,22,129,269,215,157,76,33,183,124,56,152,26,181,35,263,39,255,117,184,82,14,105,64,222,176,63,2,139,78,29,242,61,188,31,173,76,143,36,227,17,162,102,215,271,100,214,167,107,278,126,9,72,230,65,117,233,62,20,211,42,172,63,183,35,235,95,223,171,77,208,142,83,213,44,202,142,276,129,186,74,222,42,215,69,276,84,244,104,16,79,32,225,170,34,232,23,234,15,206,246,56,160,201,47,164,57,234,116,268,125,58,231,169,58,98,219,69,261,81,145,67,136,77,226,84,210,28,228,30,241,19,149,89,258,36,127,192,238,113,5,120,186,40,82,161,65,180,79,148,208,256,48,178,28,118,179,45,208,37,166,73,265,59,18,130,273,41,194,85,229,10,82,137,3,80,156,14,71,147,74,230,32,184,60,222,100,279,221,45,163,66,207,154,94,224,98,211,158,201,254,86,24,229,89,198,46,250,25,223,178,64,233,59,248,101,221,61,177,83,260,120,3,82,208,96,222,32,192,241,80,37,168,14,131,8,146,87,229,80,195,76,277,39,208,62,159,44,237,63,204,150,1,54,234,53,178,34,173,78,202,87,200,136,189,65,112,269,124,182,71,204,30,110,66,176,114,174,20,191,56,239,179,25,229,11,102,214,35,261,218,105,259,208,25,177,57,185,117,263,58,270,115,24,233,15,120,60,246,108,24,145,80,213,37,222,81,144,35,228,68,132,196,69,109,225,74,154,84,216,258,112,52,253,45,217,133,64,138,2,142,85,255,66,138,275,97,157,78,187,57,190,128,275,74,262,62,139,211,52,235,190,35,203,43,197,135,30,140,196,84,178,229,61,171,230,17,61,157,46,202,83,139,20,147,209,265,37,199,11,78,273,118,260,80,227,67,5,54,276,42,203,247,48,163,29,238,57,182,67,175,75,154,83,194,147,86,167,220,96,209,1,72,168,20,153,215,60,10,134,270,75,32,203,7,103,272,101,246,77,224,166,49,202,253,114,237,19,190,63,111,245,82,164,34,145,47,203,82,222,278,141,200,60,275,216,46,208,3,126,21,201,150,56,4,136,214,26,83,182,63,259,217,152,198,118,177,58,18,217,37,237,17,74,34,126,58,233,23,153,197,63,227,29,190,83,8,143,209,61,274,219,103,239,113,265,106,167,43,188,113,10,139,274,68,162,89
]
const steps = original.map((item: number) => {
  if((item: number) => 0 && item <= 140) {
    return item;
  }
  if((item: number) => 141 && item <= 279) {
    return item+1;
  }
})

function App() {
  const [currentIndex, setCurrentIndex] = useState(0)
  const { speak } = useSpeechSynthesis();

  const past = () => {
    setCurrentIndex(currentIndex-1)
  }

  const next = () => {
    setCurrentIndex(currentIndex+1)
    speak({ text: `next ${steps[currentIndex+1]}` })
  }

  const pedal = (e: any) => {
    if(e.key === 'b') {
      next()
    }
  }

  return (
    <div className="App">

      <h2>Done: <b>{ currentIndex }</b> Left: <b>{ steps.length - currentIndex }</b></h2>
      <br />
      <h1>Next:</h1>
      <h1 style={{ fontSize: '180px' }}>{ steps[currentIndex] }</h1>

      <button onClick={() => past() }>past</button>
      <button
        onClick={() => next() }
        onKeyDown={(e) => pedal(e)}
      >next</button>
    </div>
  )
}

export default App
